# Environment Variables for Local Development
NODE_ENV=development
PORT=3000
APP_URL=http://localhost:3000

# Supabase Database Configuration
DB_HOST=<DB_HOST>
DB_PORT=<DB_PORT>
DB_USERNAME=<DB_USERNAME>
DB_PASSWORD=<DB_PASSWORD>
DB_DATABASE=<DB_DATABASE>
DB_SSL=true

# Supabase Configuration
SUPABASE_URL=<SUPABASE_URL>
SUPABASE_ANON_KEY=<SUPABASE_ANON_KEY>
SUPABASE_SERVICE_ROLE_KEY=<SUPABASE_SERVICE_ROLE_KEY>
SUPABASE_ACCESS_TOKEN=<SUPABASE_ACCESS_TOKEN>
SUPABASE_ACCESS_TOKEN=<SUPABASE_ACCESS_TOKEN>

# Storage Configuration
ANAMNESIS_STORAGE_BUCKET=anamneses
ANAMNESIS_STORAGE_BASE_PATH=anamneses

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# Logging
LOG_LEVEL=info

# JWT Configuration
JWT_ACCESS_SECRET=<JWT_ACCESS_SECRET>
JWT_REFRESH_SECRET=<JWT_REFRESH_SECRET>
JWT_2FA_SECRET=<JWT_2FA_SECRET>

# Email Configuration (Resend)
RESEND_API_KEY=<RESEND_API_KEY>
EMAIL_FROM="Onterapi <noreply@onterapi.com.br>"

# API Configuration
API_PREFIX=api/v1
API_VERSION=1.0.0
API_TITLE=OnTerapi API
API_DESCRIPTION=API for OnTerapi Platform
SWAGGER_SERVER_URL=http://localhost:3000 

# Clinic Payment Webhook
CLINIC_ASAAS_WEBHOOK_SECRET=
CLINIC_ASAAS_WEBHOOK_TOKEN=
CLINIC_ASAAS_WEBHOOK_MAX_SKEW_MS=300000
ASAAS_BASE_URL=https://www.asaas.com/api/v3
ASAAS_SANDBOX_BASE_URL=https://sandbox.asaas.com/api/v3

# Clinic Payment Payout Worker
CLINIC_PAYOUT_WORKER_ENABLED=false
CLINIC_PAYOUT_WORKER_INTERVAL_MS=60000
CLINIC_PAYOUT_WORKER_BATCH_SIZE=5
CLINIC_PAYOUT_WORKER_MAX_ATTEMPTS=6
CLINIC_PAYOUT_WORKER_RETRY_AFTER_MS=300000
CLINIC_PAYOUT_WORKER_STUCK_AFTER_MS=900000

# Clinic Configuration Cache
CLINIC_CONFIGURATION_CACHE_REDIS_URL=
CLINIC_CONFIGURATION_CACHE_TTL_SECONDS=600

# Clinic Alert Monitor
CLINIC_ALERT_WORKER_ENABLED=false
CLINIC_ALERT_WORKER_INTERVAL_MS=900000
CLINIC_ALERT_LOOKBACK_DAYS=30
CLINIC_ALERT_REVENUE_DROP_PERCENT=20
CLINIC_ALERT_REVENUE_MIN=5000
CLINIC_ALERT_OCCUPANCY_THRESHOLD=0.55
CLINIC_ALERT_STAFF_MIN_PROFESSIONALS=0
CLINIC_ALERT_COMPLIANCE_EXPIRY_DAYS=30
CLINIC_COVERAGE_WORKER_ENABLED=false
CLINIC_COVERAGE_WORKER_INTERVAL_MS=60000
CLINIC_COVERAGE_WORKER_BATCH_LIMIT=50

# AI Worker Configuration
ANAMNESIS_AI_PROVIDER=local
ANAMNESIS_AI_WORKER_URL=<SUPABASE_FUNCTION_URL>/jobs/anamnesis-ai-request
ANAMNESIS_AI_WORKER_TOKEN=<WORKER_TOKEN>
ANAMNESIS_AI_PROMPT_VERSION=v1.0
ANAMNESIS_AI_WORKER_TIMEOUT_MS=20000
ANAMNESIS_AI_WORKER_MAX_RETRIES=3
ANAMNESIS_AI_WORKER_PORT=3333
ANAMNESIS_AI_WORKER_LOG_LEVEL=info
ANAMNESIS_AI_WEBHOOK_BASE_URL=http://localhost:3000
ANAMNESIS_AI_WEBHOOK_SECRET=<WEBHOOK_SECRET>
ANAMNESIS_AI_WEBHOOK_MAX_SKEW_MS=300000
ANAMNESIS_AI_WEBHOOK_INCLUDE_TENANT=true
ANAMNESIS_AI_COST_TOKEN_INPUT=0.0005
ANAMNESIS_AI_COST_TOKEN_OUTPUT=0.001
ANAMNESIS_AI_LATENCY_ALERT_MS=2000
OPENAI_API_KEY=<OPENAI_API_KEY>
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.2
# Clinic invitation expiration worker
CLINIC_INVITATION_TOKEN_SECRET=changeme-dev-token-secret
CLINIC_INVITATION_EXPIRATION_WORKER_ENABLED=false
CLINIC_INVITATION_EXPIRATION_WORKER_INTERVAL_MS=300000
CLINIC_INVITATION_TOKEN_MAX_ATTEMPTS=5
CLINIC_INVITATION_TOKEN_WINDOW_MS=600000
CLINIC_INVITATION_TOKEN_BLOCK_MS=1800000
